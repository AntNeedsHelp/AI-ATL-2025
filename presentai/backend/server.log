INFO:     Will watch for changes in these directories: ['/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [69054] using WatchFiles
INFO:     Started server process [69057]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:54922 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:54986 - "GET /api/status/7bd533fb-a1f2-4b43-adbe-7f0c70a867df HTTP/1.1" 404 Not Found
Traceback (most recent call last):
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/ai_analyzer.py", line 145, in _speech_agent
    types.Part.from_text(prompt)
TypeError: Part.from_text() takes 1 positional argument but 2 were given

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 183, in process_video
    result = await analyzer.analyze(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/ai_analyzer.py", line 79, in analyze
    speech_analysis = await self._speech_agent(video_file, metadata)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/ai_analyzer.py", line 155, in _speech_agent
    raise ValueError(f"Speech analysis failed: {str(e)}")
ValueError: Speech analysis failed: Part.from_text() takes 1 positional argument but 2 were given
File processing... state: PROCESSING, waited: 2s
File processing... state: ACTIVE, waited: 4s
File ready! State: ACTIVE, URI: https://generativelanguage.googleapis.com/v1beta/files/0n40wjt75mwj
Starting speech analysis...
Error in _speech_agent: Part.from_text() takes 1 positional argument but 2 were given
Error processing job e1bb4b94-b4db-483b-bc60-8c505f158b25: Speech analysis failed: Part.from_text() takes 1 positional argument but 2 were given
INFO:     127.0.0.1:55012 - "POST /api/upload HTTP/1.1" 200 OK
INFO:     127.0.0.1:55021 - "GET / HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69057]
INFO:     Started server process [70150]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70150]
INFO:     Started server process [70396]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70396]
INFO:     Started server process [70457]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55093 - "GET / HTTP/1.1" 200 OK
File processing... state: PROCESSING, waited: 2s
File processing... state: ACTIVE, waited: 4s
File ready! State: ACTIVE, URI: https://generativelanguage.googleapis.com/v1beta/files/hhfpp2fxxrqq
Starting speech analysis...
Speech analysis complete
[Veo] Found 4 gesture markers, generating videos...
[Veo] Extracting frames for marker 0: 0.0s to 5.0s
[Veo] Generating video for marker 0...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 0s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 10s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 20s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 30s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 40s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 51s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 61s)
[Veo] Downloading video file for marker 0...
[Veo] Video file object: <class 'google.genai.types.Video'>, attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'construct', 'copy', 'dict', 'from_file', 'from_orm', 'json', 'mime_type', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'save', 'schema', 'schema_json', 'show', 'to_json_dict', 'update_forward_refs', 'uri', 'validate', 'video_bytes']
[Veo] Download call completed
[Veo] Saving video to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/gesture_videos/gesture_0.mp4...
[Veo] Save method called successfully
[Veo] ✓ Generated video saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/gesture_videos/gesture_0.mp4 (985334 bytes)
[Veo] Successfully set video_url for marker at 0.0s: /api/gesture-video/5b98fb7e-b821-49a2-bea1-22b193184550/0
[Veo] Extracting frames for marker 1: 1.5s to 6.5s
[Veo] Generating video for marker 1...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 0s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 10s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 20s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 30s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 41s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 51s)
[Veo] Downloading video file for marker 1...
[Veo] Video file object: <class 'google.genai.types.Video'>, attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'construct', 'copy', 'dict', 'from_file', 'from_orm', 'json', 'mime_type', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'save', 'schema', 'schema_json', 'show', 'to_json_dict', 'update_forward_refs', 'uri', 'validate', 'video_bytes']
[Veo] Download call completed
[Veo] Saving video to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/gesture_videos/gesture_1.mp4...
[Veo] Save method called successfully
[Veo] ✓ Generated video saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/gesture_videos/gesture_1.mp4 (990103 bytes)
[Veo] Successfully set video_url for marker at 1.5s: /api/gesture-video/5b98fb7e-b821-49a2-bea1-22b193184550/1
[Veo] Extracting frames for marker 2: 18.6s to 20.0s
[Veo] Generating video for marker 2...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Waiting for video generation to complete for marker 2... (elapsed: 0s)
[Veo] Waiting for video generation to complete for marker 2... (elapsed: 10s)
[Veo] Waiting for video generation to complete for marker 2... (elapsed: 20s)
[Veo] Waiting for video generation to complete for marker 2... (elapsed: 30s)
[Veo] Waiting for video generation to complete for marker 2... (elapsed: 41s)
[Veo] Downloading video file for marker 2...
[Veo] Video file object: <class 'google.genai.types.Video'>, attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'construct', 'copy', 'dict', 'from_file', 'from_orm', 'json', 'mime_type', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'save', 'schema', 'schema_json', 'show', 'to_json_dict', 'update_forward_refs', 'uri', 'validate', 'video_bytes']
[Veo] Download call completed
[Veo] Saving video to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/gesture_videos/gesture_2.mp4...
[Veo] Save method called successfully
[Veo] ✓ Generated video saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/gesture_videos/gesture_2.mp4 (1019196 bytes)
[Veo] Successfully set video_url for marker at 18.6s: /api/gesture-video/5b98fb7e-b821-49a2-bea1-22b193184550/2
[Veo] Extracting frames for marker 3: 20.5s to 25.5s
[Veo] Generating video for marker 3...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Waiting for video generation to complete for marker 3... (elapsed: 0s)
[Veo] Waiting for video generation to complete for marker 3... (elapsed: 10s)
[Veo] Waiting for video generation to complete for marker 3... (elapsed: 20s)
[Veo] Waiting for video generation to complete for marker 3... (elapsed: 30s)
[Veo] Waiting for video generation to complete for marker 3... (elapsed: 40s)
[Veo] Waiting for video generation to complete for marker 3... (elapsed: 51s)
[Veo] Downloading video file for marker 3...
[Veo] Video file object: <class 'google.genai.types.Video'>, attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'construct', 'copy', 'dict', 'from_file', 'from_orm', 'json', 'mime_type', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'save', 'schema', 'schema_json', 'show', 'to_json_dict', 'update_forward_refs', 'uri', 'validate', 'video_bytes']
[Veo] Download call completed
[Veo] Saving video to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/gesture_videos/gesture_3.mp4...
[Veo] Save method called successfully
[Veo] ✓ Generated video saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/gesture_videos/gesture_3.mp4 (968476 bytes)
[Veo] Successfully set video_url for marker at 20.5s: /api/gesture-video/5b98fb7e-b821-49a2-bea1-22b193184550/3
[Veo] Generated 4/4 videos successfully
[Veo] ✓ Marker at 0.0s has video_url: /api/gesture-video/5b98fb7e-b821-49a2-bea1-22b193184550/0 (file exists)
[Veo] ✓ Marker at 1.5s has video_url: /api/gesture-video/5b98fb7e-b821-49a2-bea1-22b193184550/1 (file exists)
[Veo] ✓ Marker at 18.6s has video_url: /api/gesture-video/5b98fb7e-b821-49a2-bea1-22b193184550/2 (file exists)
[Veo] ✓ Marker at 20.5s has video_url: /api/gesture-video/5b98fb7e-b821-49a2-bea1-22b193184550/3 (file exists)
[Veo] Final count: 4 gesture markers with video URLs
[Veo] Results saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/5b98fb7e-b821-49a2-bea1-22b193184550/result.json
[Veo] Sample gesture marker: start=0.0, has_video_url=True
INFO:     127.0.0.1:55093 - "POST /api/upload HTTP/1.1" 200 OK
INFO:     127.0.0.1:55213 - "GET /api/result/5b98fb7e-b821-49a2-bea1-22b193184550 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55217 - "GET /api/status/5b98fb7e-b821-49a2-bea1-22b193184550 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70457]
INFO:     Started server process [72449]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55240 - "GET /api/result/5b98fb7e-b821-49a2-bea1-22b193184550 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [72449]
INFO:     Started server process [72501]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55257 - "GET / HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 97, in generate_gesture_video
    operation = self.client.models.generate_videos(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/models.py", line 5562, in generate_videos
    return self._generate_videos(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/models.py", line 4923, in _generate_videos
    response = self._api_client.request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1331, in request
    response = self._request(http_request, http_options, stream=False)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1167, in _request
    return self._retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1144, in _request_once
    errors.APIError.raise_for_response(response)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/errors.py", line 108, in raise_for_response
    raise ClientError(status_code, response_json, response)
google.genai.errors.ClientError: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. ', 'status': 'RESOURCE_EXHAUSTED'}}
File processing... state: PROCESSING, waited: 2s
File processing... state: ACTIVE, waited: 4s
File ready! State: ACTIVE, URI: https://generativelanguage.googleapis.com/v1beta/files/b4wa9si7v9xi
Starting speech analysis...
Speech analysis complete
[Veo] Found 3 gesture markers, generating videos...
[Veo] Extracting frames for marker 0: 0.0s to 5.0s
[Veo] Generating video for marker 0...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 0s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 10s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 20s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 30s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 41s)
[Veo] Downloading video file for marker 0...
[Veo] Video file object: <class 'google.genai.types.Video'>, attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'construct', 'copy', 'dict', 'from_file', 'from_orm', 'json', 'mime_type', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'save', 'schema', 'schema_json', 'show', 'to_json_dict', 'update_forward_refs', 'uri', 'validate', 'video_bytes']
[Veo] Download call completed
[Veo] Saving video to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_0.mp4...
[Veo] Save method called successfully
[Veo] ✓ Generated video saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_0.mp4 (1004749 bytes)
[Veo] Successfully set video_url for marker at 0.0s: /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/0
[Veo] Extracting frames for marker 1: 18.2s to 20.2s
[Veo] Generating video for marker 1...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 0s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 10s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 20s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 30s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 41s)
[Veo] Downloading video file for marker 1...
[Veo] Video file object: <class 'google.genai.types.Video'>, attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'construct', 'copy', 'dict', 'from_file', 'from_orm', 'json', 'mime_type', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'save', 'schema', 'schema_json', 'show', 'to_json_dict', 'update_forward_refs', 'uri', 'validate', 'video_bytes']
[Veo] Download call completed
[Veo] Saving video to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_1.mp4...
[Veo] Save method called successfully
[Veo] ✓ Generated video saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_1.mp4 (1037456 bytes)
[Veo] Successfully set video_url for marker at 18.2s: /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/1
[Veo] Extracting frames for marker 2: 20.2s to 25.2s
[Veo] Generating video for marker 2...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Error generating video for marker 2: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. ', 'status': 'RESOURCE_EXHAUSTED'}}
[Veo] Generated 2/3 videos successfully
[Veo] ✓ Marker at 0.0s has video_url: /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/0 (file exists)
[Veo] ✓ Marker at 18.2s has video_url: /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/1 (file exists)
[Veo] Marker at 20.2s has no video_url
[Veo] Final count: 2 gesture markers with video URLs
[Veo] Results saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/result.json
[Veo] Sample gesture marker: start=0.0, has_video_url=True
INFO:     127.0.0.1:55257 - "POST /api/upload HTTP/1.1" 200 OK
[API] Request for gesture video: job_id=1a008731-d982-4668-83f0-f43f605c3063, marker_index=2
[API] Looking for video at: /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_2.mp4
[API] Video file does not exist: /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_2.mp4
[API] Found existing videos: ['gesture_0.mp4', 'gesture_1.mp4']
INFO:     127.0.0.1:55350 - "GET /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/2 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:55373 - "GET /api/result/1a008731-d982-4668-83f0-f43f605c3063 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [72501]
INFO:     Started server process [73745]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55407 - "HEAD /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/0 HTTP/1.1" 405 Method Not Allowed
INFO:     127.0.0.1:55420 - "HEAD /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/1 HTTP/1.1" 405 Method Not Allowed
[API] Request for gesture video: job_id=1a008731-d982-4668-83f0-f43f605c3063, marker_index=2
[API] Looking for video at: /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_2.mp4
[API] Video file does not exist: /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_2.mp4
INFO:     127.0.0.1:55424 - "GET /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/2 HTTP/1.1" 404 Not Found
[API] Request for gesture video: job_id=1a008731-d982-4668-83f0-f43f605c3063, marker_index=0
[API] Looking for video at: /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_0.mp4
[API] Serving video: /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1a008731-d982-4668-83f0-f43f605c3063/gesture_videos/gesture_0.mp4
[API] Video file size: 1004749 bytes
INFO:     127.0.0.1:55436 - "GET /api/gesture-video/1a008731-d982-4668-83f0-f43f605c3063/0 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [73745]
INFO:     Started server process [74414]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [74414]
INFO:     Started server process [74889]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [74889]
INFO:     Started server process [74988]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55475 - "GET /api/result/1a008731-d982-4668-83f0-f43f605c3063 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [74988]
INFO:     Started server process [75205]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [75205]
INFO:     Started server process [76209]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76209]
INFO:     Started server process [76266]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76266]
Process SpawnProcess-14:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 18, in <module>
    from veo_generator import VeoGenerator
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 201
    return True
IndentationError: unexpected indent
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
Process SpawnProcess-15:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 18, in <module>
    from veo_generator import VeoGenerator
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 201
    return True
IndentationError: unexpected indent
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
Process SpawnProcess-16:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 18, in <module>
    from veo_generator import VeoGenerator
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 201
    return True
IndentationError: unexpected indent
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
Process SpawnProcess-17:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 18, in <module>
    from veo_generator import VeoGenerator
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 201
    return True
IndentationError: unexpected indent
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
Process SpawnProcess-18:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 18, in <module>
    from veo_generator import VeoGenerator
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 202
    return True
IndentationError: unexpected indent
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
Process SpawnProcess-19:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 18, in <module>
    from veo_generator import VeoGenerator
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 202
    return True
IndentationError: unexpected indent
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Started server process [78001]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [78001]
INFO:     Started server process [78307]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [78307]
INFO:     Started server process [78349]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py', 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [78349]
INFO:     Started server process [78549]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [78549]
INFO:     Started server process [79493]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [79493]
INFO:     Started server process [79981]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [79981]
INFO:     Started server process [80151]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80151]
INFO:     Started server process [80323]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80323]
INFO:     Started server process [80563]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80563]
INFO:     Started server process [80845]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55739 - "GET / HTTP/1.1" 200 OK
File processing... state: ACTIVE, waited: 2s
File ready! State: ACTIVE, URI: https://generativelanguage.googleapis.com/v1beta/files/in083vh0515d
Starting speech analysis...
Speech analysis complete
[Veo] Found 3 gesture markers, generating videos...
[Veo] Extracting frames for marker 0: 0.0s to 5.0s
[Veo] Generating video for marker 0...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] ⚠️ API quota exhausted for marker 0. Skipping remaining videos.
[Veo] ⚠️ Quota exhausted for marker 0: QUOTA_EXHAUSTED
[Veo] ⚠️ API quota exhausted. Stopping video generation and continuing with analysis.
[Veo] Skipping marker 1 (quota exhausted)
[Veo] Skipping marker 2 (quota exhausted)
[Veo] ⚠️ Video generation stopped due to quota exhaustion. Analysis results will still be saved.
[Veo] ⚠️ API quota exhausted. 0 videos generated, 3 skipped due to quota limits.
[Veo] Marker at 0.0s has no video_url
[Veo] Marker at 0.0s has no video_url
[Veo] Marker at 18.5s has no video_url
[Veo] Final count: 0 gesture markers with video URLs
[Veo] Results saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/1fa1c65c-21e7-4b49-a592-859cd6c562ce/result.json
[Veo] Sample gesture marker: start=0.0, has_video_url=False
INFO:     127.0.0.1:55739 - "POST /api/upload HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80845]
INFO:     Started server process [84416]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84416]
INFO:     Started server process [85029]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85029]
INFO:     Started server process [85196]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85196]
INFO:     Started server process [87196]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [87196]
INFO:     Started server process [87586]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [87586]
INFO:     Started server process [87958]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [87958]
INFO:     Started server process [88067]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88067]
INFO:     Started server process [88404]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88404]
INFO:     Started server process [88467]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88467]
INFO:     Started server process [88530]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py', 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88530]
INFO:     Started server process [88845]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88845]
INFO:     Started server process [88957]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55985 - "GET / HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/ai_analyzer.py", line 350, in _content_agent
    response = self.client.models.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/models.py", line 5056, in generate_content
    response = self._generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/models.py", line 3843, in _generate_content
    response = self._api_client.request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1331, in request
    response = self._request(http_request, http_options, stream=False)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1167, in _request
    return self._retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/_api_client.py", line 1144, in _request_once
    errors.APIError.raise_for_response(response)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/google/genai/errors.py", line 110, in raise_for_response
    raise ServerError(status_code, response_json, response)
google.genai.errors.ServerError: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 189, in process_video
    result = await analyzer.analyze(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/ai_analyzer.py", line 83, in analyze
    content_analysis = await self._content_agent(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/ai_analyzer.py", line 366, in _content_agent
    raise ValueError(f"Content analysis failed: {str(e)}")
ValueError: Content analysis failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
File processing... state: PROCESSING, waited: 2s
File processing... state: ACTIVE, waited: 4s
File ready! State: ACTIVE, URI: https://generativelanguage.googleapis.com/v1beta/files/3b3qw15uwmc2
Starting speech analysis...
Speech analysis complete
Error in _content_agent: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Error processing job e3f606e0-1b7f-4b98-a4a1-1008e3ec23a3: Content analysis failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
INFO:     127.0.0.1:55987 - "POST /api/upload HTTP/1.1" 200 OK
INFO:     127.0.0.1:56043 - "GET /api/status/e3f606e0-1b7f-4b98-a4a1-1008e3ec23a3 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88957]
INFO:     Started server process [91590]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [91590]
INFO:     Started server process [92213]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92213]
Process SpawnProcess-44:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 17, in <module>
    from ai_analyzer import AIAnalyzer
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/ai_analyzer.py", line 79
    speech_analysis = None
IndentationError: unexpected indent
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
Process SpawnProcess-45:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/venv/lib/python3.12/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/main.py", line 17, in <module>
    from ai_analyzer import AIAnalyzer
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/ai_analyzer.py", line 79
    speech_analysis = None
IndentationError: unexpected indent
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
INFO:     Started server process [93428]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'ai_analyzer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93428]
INFO:     Started server process [94296]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:56213 - "GET / HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'veo_generator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [94296]
INFO:     Started server process [97639]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
File processing... state: ACTIVE, waited: 2s
File ready! State: ACTIVE, URI: https://generativelanguage.googleapis.com/v1beta/files/1vqz4wmjgbkf
Starting speech analysis...
Error in _speech_agent: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Speech analysis failed: Speech analysis failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}} - continuing with other analyses
Error in _gesture_agent: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Gesture analysis failed: Gesture analysis failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}} - continuing with other analyses
Error in _inflection_agent: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Inflection analysis failed: Inflection analysis failed: 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}} - continuing with other analyses
Error in _content_agent (attempt 1/3): 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Retrying in 5 seconds...
Content analysis complete
[Veo] No gesture markers found, skipping video generation
[Veo] Final count: 0 gesture markers with video URLs
[Veo] Results saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/94ddfbb1-2b84-4210-b8ff-217f3a8acef5/result.json
INFO:     127.0.0.1:56222 - "POST /api/upload HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 71, in generate_gesture_video
    last_frame_path = Path(self.extract_frame(video_path, end_time, str(last_frame_path)))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/rishidesai/Documents/AI-ATL-2025/presentai/backend/veo_generator.py", line 40, in extract_frame
    raise Exception(f"Failed to extract frame to {output_path_str}")
Exception: Failed to extract frame to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/992a58a5-55db-45c1-b0f7-22e9d5d6de66/gesture_videos/frame_end_2.png
File processing... state: ACTIVE, waited: 2s
File ready! State: ACTIVE, URI: https://generativelanguage.googleapis.com/v1beta/files/d0rtaza5ay70
Starting speech analysis...
Speech analysis complete
Gesture analysis complete
Inflection analysis complete
Error in _content_agent (attempt 1/3): 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Retrying in 5 seconds...
Error in _content_agent (attempt 2/3): 503 UNAVAILABLE. {'error': {'code': 503, 'message': 'The model is overloaded. Please try again later.', 'status': 'UNAVAILABLE'}}
Retrying in 10 seconds...
Content analysis complete
[Veo] Found 3 gesture markers, generating videos...
[Veo] Extracting frames for marker 0: 0.0s to 5.0s
[Veo] Generating video for marker 0...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 0s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 10s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 20s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 30s)
[Veo] Waiting for video generation to complete for marker 0... (elapsed: 41s)
[Veo] Downloading video file for marker 0...
[Veo] Video file object: <class 'google.genai.types.Video'>, attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'construct', 'copy', 'dict', 'from_file', 'from_orm', 'json', 'mime_type', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'save', 'schema', 'schema_json', 'show', 'to_json_dict', 'update_forward_refs', 'uri', 'validate', 'video_bytes']
[Veo] Download call completed
[Veo] Saving video to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/992a58a5-55db-45c1-b0f7-22e9d5d6de66/gesture_videos/gesture_0.mp4...
[Veo] Save method called successfully
[Veo] ✓ Generated video saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/992a58a5-55db-45c1-b0f7-22e9d5d6de66/gesture_videos/gesture_0.mp4 (1055214 bytes)
[Veo] Successfully set video_url for marker at 0.0s: /api/gesture-video/992a58a5-55db-45c1-b0f7-22e9d5d6de66/0
[Veo] Extracting frames for marker 1: 8.12s to 10.08s
[Veo] Generating video for marker 1...
[Veo] Created Part objects: first=<class 'google.genai.types.Image'>, last=<class 'google.genai.types.Image'>
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 0s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 10s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 20s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 30s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 40s)
[Veo] Waiting for video generation to complete for marker 1... (elapsed: 51s)
[Veo] Downloading video file for marker 1...
[Veo] Video file object: <class 'google.genai.types.Video'>, attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_computed_fields__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_on_complete__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_setattr_handlers__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__replace__', '__repr__', '__repr_args__', '__repr_name__', '__repr_recursion__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_copy_and_set_values', '_from_response', '_get_value', '_iter', '_setattr_handler', 'construct', 'copy', 'dict', 'from_file', 'from_orm', 'json', 'mime_type', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'save', 'schema', 'schema_json', 'show', 'to_json_dict', 'update_forward_refs', 'uri', 'validate', 'video_bytes']
[Veo] Download call completed
[Veo] Saving video to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/992a58a5-55db-45c1-b0f7-22e9d5d6de66/gesture_videos/gesture_1.mp4...
[Veo] Save method called successfully
[Veo] ✓ Generated video saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/992a58a5-55db-45c1-b0f7-22e9d5d6de66/gesture_videos/gesture_1.mp4 (1063764 bytes)
[Veo] Successfully set video_url for marker at 8.12s: /api/gesture-video/992a58a5-55db-45c1-b0f7-22e9d5d6de66/1
[Veo] Extracting frames for marker 2: 10.08s to 12.3s
[Veo] Error generating video for marker 2: Failed to extract frame to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/992a58a5-55db-45c1-b0f7-22e9d5d6de66/gesture_videos/frame_end_2.png
[Veo] Generated 2/3 videos successfully
[Veo] ✓ Marker at 0.0s has video_url: /api/gesture-video/992a58a5-55db-45c1-b0f7-22e9d5d6de66/0 (file exists)
[Veo] ✓ Marker at 8.12s has video_url: /api/gesture-video/992a58a5-55db-45c1-b0f7-22e9d5d6de66/1 (file exists)
[Veo] Marker at 10.08s has no video_url
[Veo] Final count: 2 gesture markers with video URLs
[Veo] Results saved to /Users/rishidesai/Documents/AI-ATL-2025/presentai/data/jobs/992a58a5-55db-45c1-b0f7-22e9d5d6de66/result.json
[Veo] Sample gesture marker: start=0.0, has_video_url=True
INFO:     127.0.0.1:56232 - "POST /api/upload HTTP/1.1" 200 OK
